<!DOCTYPE html>
<html>
	<head>
		<title>Music Room</title>
		<meta charset='utf-8'>
		<link href="bootstrap.min.css" rel="stylesheet">
		<link href="style.css" rel="stylesheet">
		<link rel='shortcut icon' type='image/png' href='/favicon.png' />
	</head>
	<body>

		<div class="navbar navbar-default">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="../">Music Room</a>
				</div>
				<div class="navbar-collapse">
					<ul class="nav navbar-nav navbar-right">
						<li><a class="navbar-brand" href="#">User</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">

				<div class="col-sm-3">
					<div class="well" id="album-art-view"></div>

					<div class="panel panel-success">
						<div class="panel-heading">
							<h5>In Room</h5>
						</div>
						<div id="users-in-room-view" class="list-group"></div>
					</div>
				</div>

				<div class="col-sm-7">
					<div class="well"><div id="music-view"></div></div>
					<div id="chat-view"></div>
				</div>

				<div class="col-sm-2">
					<div class="panel panel-warning">
						<div class="panel-heading">
							<h5>Queue</h5>
						</div>
						<div id="queue-view" class="list-group"></div>
					</div>
				</div>

			</div>
		</div>
		<audio id="audio-element"></audio>



		<script id="chat-template" type="text/ractive">
			<div class="list-group">
				{{#messages}}
					<a href="" class="list-group-item{{#highlight}} active{{/highlight}}">
						{{#name}}
							<small class="text-muted">{{name}}</small>
						{{/name}}{{message}}
					</a>
				{{/}}
			</div>
			<form on-submit='text-submit'>
				<input class="form-control" value='{{message}}'
					placeholder='Enter your message...' autofocus>
			</form>
		</script>

		<script id="music-template" type="text/ractive">
			{{Math.floor(currentSec  / 60)}}:{{ (Math.floor(currentSec  % 60) / 100).toFixed(2).slice(2) }} /
			{{Math.floor(durationSec / 60)}}:{{ (Math.floor(durationSec % 60) / 100).toFixed(2).slice(2) }}

			<div class="progress">
				<div class="progress-bar" style="width: {{currentSec/durationSec*100}}%"></div>
			</div>
			<div class="row">
				<div class="col-sm-9">
					<b>{{title}}</b><br>
					<i>{{artist}}</i><br>
					{{album}}
				</div>
				<div class="col-sm-3">
					<a id="mute-btn" class="btn btn-{{muted ? 'success' : 'danger'}}"
						on-click='button-mute'>{{muted ? 'Unm' : 'M'}}ute</a>
				</div>
			</div>
		</script>

		<script id="queue-template" type="text/ractive">
			{{>list}}
		</script>

		<script id="users-in-room-template" type="text/ractive">
			{{>list}}
		</script>

		<script id="album-art-template" type="text/ractive">
			<img src="{{source}}">
		</script>

		<script src="room.js"></script>
	</body>
</html>
		